<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Germany Guide - Hochschule Magdeburg-Stendal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet"/>
  <style>body { font-family: 'Inter', sans-serif; }</style>
</head>
<!-- Replace inside <body> and scripts -->
<body class="text-gray-800 bg-gray-100 flex flex-col justify-between min-h-[100vh] ">

<header class="bg-white shadow px-4 py-4 flex flex-col md:flex-row items-center justify-between md:px-8">
  <div class="flex items-center gap-4">
    <a href="#" onclick="renderIntro()">
      <img src="hochschule-logo.svg" alt="Hochschule Logo" class="h-12 w-auto">
    </a>
    <h1 class="text-xl md:text-2xl font-semibold text-blue-900">ğŸ‡©ğŸ‡ª GERMANY Guide</h1>
    <h2>A roadmap to the Hochschule Magdeburg-Stendal for international students</h2>
  </div>
  <nav class="mt-2 md:mt-0 space-x-4 text-sm md:text-base">
     <button onclick="renderCountryList()" class="   hover:underline font-semibold">ğŸ  Home</button>
    <button onclick="loadCountry('Iran')" class="text-blue-900 hover:underline font-semibold">IRAN</button>
    <button onclick="loadCountry('India')" class="text-orange-700 hover:underline font-semibold">INDIA</button>
    <button onclick="loadCountry('Bangladesh')" class="text-green-700 hover:underline font-semibold">BANGLADESH</button>
    <a href="#" class="text-gray-700 hover:underline">Team</a>
    <a href="https://www.h2.de" class="text-gray-700 hover:underline" target="_blank">h2.de</a>
  </nav>


</header>

<div class="p-5">
  <main class="max-w-3xl mx-auto bg-white mt-6 p-6 rounded-xl shadow min-h-[60vh] overflow-y-auto flex flex-col ">
  <div id="content" class="space-y-4"></div>

  <div id="navigation" class="flex justify-between pt-8 hidden mt-auto">
    <button onclick="renderCountryList()" class="select-none bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300">ğŸ  Home</button>
    <div>
      <button id="prevBtn" onclick="prevStep()" class="select-none bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">â† Back</button>
      <button id="nextBtn" onclick="nextStep()" class="select-none bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800 ml-2 disabled:opacity-30">Next â†’</button>
    </div>
  </div>
</main>
</div>

<footer class="text-center text-white bg-blue-900 py-4 mt-10">
  Thanks to our Professors, Dr. Johanne Fischer and Ms. Katja EisenÃ¤cher<br/>
  &copy; 2025 Hochschule Magdeburg-Stendal â€“ International Student Guide Project
</footer>

<script>
  let data = {};

fetch('countries.json')
  .then(response => response.json())
  .then(json => {
    data = json;
    renderIntro(); // or your initialization function
  })
  .catch(error => {
    console.error('Failed to load JSON:', error);
    document.getElementById('content').innerHTML = '<p class="text-red-600">Failed to load guide data.</p>';
  });

function renderIntro() {
  const container = document.getElementById("content");
  container.innerHTML = `
    <h2 class="text-2xl font-bold text-blue-800 mb-2">Welcome to the Germany Guide</h2>
    <p class="mb-4">This open-source project is part of our study program <strong>StREaM - Sustainable Resources, Engineering and Management</strong> at Hochschule Magdeburg-Stendal, developed during the summer semester of 2025. It supports international students on their journey to Germany. <a href="#" class="text-blue-800 hover:underline">[Our team]</a></p>
    <h3 class="text-lg font-semibold mb-1">Select your country:</h3>
    <div class="space-y-2 text-lg">
      <button onclick="loadCountry('Iran')" class="w-full px-4 py-4 rounded-full backdrop-blur-xl border-4 border-black/20  bg-change-color hover:border-black transition  " style="background: linear-gradient(0deg, #da00008f, #ffffff, #239f4094);">ğŸ‡®ğŸ‡· IRAN</button>
      <button onclick="loadCountry('India')" class="w-full px-4 py-4 rounded-full backdrop-blur-xl border-4 border-black/20  bg-change-color hover:border-black transition  " style="background: linear-gradient(0deg, #ff99339c, #ffffff, #13880875);">ğŸ‡®ğŸ‡³ INDIA</button>
      <button onclick="loadCountry('Bangladesh')" class="w-full px-4 py-4 rounded-full backdrop-blur-xl border-4 border-black/20  bg-change-color hover:border-black transition  " style="background: linear-gradient(0deg, #da00008f, #ffffff, #239f4094)">ğŸ‡§ğŸ‡© BANGLADESH</button>
    </div>
    <h3 class="mt-6 text-lg font-semibold">Coming soon:</h3>
    <ul class="list-disc ml-6 text-gray-600">
      <li>ğŸ‡¨ğŸ‡³ China</li>
      <li>ğŸ‡®ğŸ‡¹ Italy</li>
      <li>ğŸ‡§ğŸ‡· Brazil</li>
      <li>ğŸ‡ºğŸ‡¸ USA</li>
      <li>ğŸ‡¨ğŸ‡± Chile</li>
    </ul>
  `;
  document.getElementById("navigation").classList.add("hidden");
}
renderIntro(); // Load intro on startup

function renderCountryList() {
  renderIntro();
}

function loadCountry(country) {
  currentCountry = country;
  currentIndex = -1;
  const container = document.getElementById("content");
  container.innerHTML = `<h2 class="text-xl font-semibold mb-4">Select a Step in ${country}</h2>`;
  data[country].forEach((step, index) => {
    const btn = document.createElement("button");
    btn.className = "block w-full bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded my-1 text-left";
    btn.textContent = `Step ${step.file.slice(0,3)}: ${step.title}`;
    btn.onclick = () => {
      currentIndex = index;
      renderStep();
    };
    container.appendChild(btn);
  });
  document.getElementById("navigation").classList.remove("hidden");
}

function renderStep() {
  const step = data[currentCountry][currentIndex];
  const container = document.getElementById("content");
  container.innerHTML = `
    <h2 class="text-2xl font-bold text-blue-800 mb-4">Step ${step.file.slice(0,3)}: ${step.title}</h2>
    <div class="mb-4">${step.description}</div>
  `;
  document.getElementById("prevBtn").disabled = currentIndex === 0;
  document.getElementById("nextBtn").disabled = currentIndex === data[currentCountry].length - 1;
}

function nextStep() {
  if (currentIndex < data[currentCountry].length - 1) {
    currentIndex++;
    renderStep();
  }
}

function prevStep() {
  if (currentIndex > 0) {
    currentIndex--;
    renderStep();
  }
}
</script>

</html>
