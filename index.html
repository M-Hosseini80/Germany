<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Germany Guide - Hochschule Magdeburg-Stendal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet"/>
  <style>body { font-family: 'Inter', sans-serif; }</style>
</head>

<body class="text-gray-800 bg-gray-100 min-h-screen flex flex-col">
<header class="bg-white shadow px-4 py-4 md:px-8 flex items-center justify-between">
  <div class="flex items-center gap-4">
    <a href="#" onclick="renderIntro()">
      <img src="hochschule-logo.svg" alt="Hochschule Logo" class="h-12 w-auto">
    </a>
    <div>
      <h1 class="text-xl md:text-2xl font-bold text-blue-900">🇩🇪 Germany Guide</h1>
      <p class="text-sm md:text-base">a roadmap to the Hochschule Magdeburg-Stendal for international students</p>
    </div>
  </div>

  <div class="md:hidden">
    <button onclick="toggleMenu()" class="text-gray-800 focus:outline-none">
      ☰
    </button>
  </div>

  <nav id="navLinks" class="hidden md:flex space-x-4 text-sm md:text-base">
    <button onclick="renderCountryList()" class="hover:underline font-semibold">🏠 Home</button>
    <button onclick="loadCountry('Iran')" class="text-blue-900 hover:underline font-semibold">IRAN</button>
    <button onclick="loadCountry('India')" class="text-orange-700 hover:underline font-semibold">INDIA</button>
    <button onclick="loadCountry('Bangladesh')" class="text-green-700 hover:underline font-semibold">BANGLADESH</button>
    <button onclick="renderTeam()" class="text-gray-700 hover:underline">Team</button>
    <a href="https://www.h2.de" class="text-gray-700 hover:underline" target="_blank">h2.de</a>
  </nav>
</header>

<!-- Mobile nav menu -->
<div id="mobileMenu" class="md:hidden hidden flex-col items-start px-4 space-y-2 bg-white shadow pb-4">
  <button onclick="renderCountryList()" class="hover:underline font-semibold">🏠 Home</button>
  <button onclick="loadCountry('Iran')" class="text-blue-900 hover:underline font-semibold">IRAN</button>
  <button onclick="loadCountry('India')" class="text-orange-700 hover:underline font-semibold">INDIA</button>
  <button onclick="loadCountry('Bangladesh')" class="text-green-700 hover:underline font-semibold">BANGLADESH</button>
  <button onclick="renderTeam()" class="text-gray-700 hover:underline">Team</button>
  <a href="https://www.h2.de" class="text-gray-700 hover:underline" target="_blank">h2.de</a>
</div>

<main class="p-5 flex-grow">
  <div class="max-w-3xl mx-auto bg-white mt-6 p-6 rounded-xl shadow h-[60vh] overflow-y-auto flex flex-col">
    <div id="content" class="space-y-4"></div>
    <div id="navigation" class="flex justify-between pt-8 hidden mt-auto">
      <button onclick="renderCountryList()" class="bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300">🏠 Home</button>
      <div>
        <button id="prevBtn" onclick="prevStep()" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">← Back</button>
        <button id="nextBtn" onclick="nextStep()" class="bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800 ml-2 disabled:opacity-30">Next →</button>
      </div>
    </div>
  </div>
</main>

<footer class="text-center text-white bg-blue-900 py-4">
  Thanks to our Professors, Dr. Johanne Fischer and Ms. Katja Eisenächer<br/>
  &copy; 2025 Hochschule Magdeburg-Stendal – International Student Guide Project
</footer>

<script>
let data = {};
let currentCountry = "";
let currentIndex = -1;

function toggleMenu() {
  const menu = document.getElementById("mobileMenu");
  menu.classList.toggle("hidden");
}

fetch('countries.json')
  .then(response => response.json())
  .then(json => {
    data = json;
    renderIntro();
  })
  .catch(error => {
    document.getElementById('content').innerHTML = '<p class="text-red-600">Failed to load guide data.</p>';
  });

function renderIntro() {
  const container = document.getElementById("content");
  container.innerHTML = `
    <h2 class="text-2xl font-bold text-blue-800 mb-2">Welcome to the Germany Guide</h2>
    <p class="mb-4">This project is part of our study program <strong>StREaM – Sustainable Resources, Engineering and Management</strong> at Hochschule Magdeburg-Stendal. It supports international students on their journey to Germany.</p>
    <h3 class="text-lg font-semibold mb-1">Select your country:</h3>
    <div class="space-y-3 text-lg">
      <button onclick="loadCountry('Iran')" class="w-full px-4 py-4 rounded-full border-4 border-black/20 hover:border-black" style="background: linear-gradient(to right, #da0000cc, #ffffff, #239f40cc);">🇮🇷 IRAN</button>
      <button onclick="loadCountry('India')" class="w-full px-4 py-4 rounded-full border-4 border-black/20 hover:border-black" style="background: linear-gradient(to right, #ff9933cc, #ffffff, #138808cc);">🇮🇳 INDIA</button>
      <button onclick="loadCountry('Bangladesh')" class="w-full px-4 py-4 rounded-full border-4 border-black/20 hover:border-black" style="background: linear-gradient(to right, #da0000cc, #ffffff, #239f40cc);">🇧🇩 BANGLADESH</button>
    </div>
    <h3 class="mt-6 text-lg font-semibold">Coming Soon:</h3>
    <div class="space-y-3 text-lg opacity-40 pointer-events-none">
      <div class="w-full px-4 py-4 rounded-full border-4 border-black/20 bg-white">🇨🇳 CHINA</div>
      <div class="w-full px-4 py-4 rounded-full border-4 border-black/20 bg-white">🇮🇹 ITALY</div>
      <div class="w-full px-4 py-4 rounded-full border-4 border-black/20 bg-white">🇧🇷 BRAZIL</div>
      <div class="w-full px-4 py-4 rounded-full border-4 border-black/20 bg-white">🇺🇸 USA</div>
      <div class="w-full px-4 py-4 rounded-full border-4 border-black/20 bg-white">🇨🇱 CHILE</div>
    </div>
  `;
  document.getElementById("navigation").classList.add("hidden");
}

function renderTeam() {
  const container = document.getElementById("content");
  container.innerHTML = `
    <h2 class="text-2xl font-bold text-blue-800 mb-4">Our Team</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 text-center">
      <div class="p-4 bg-gray-100 rounded shadow">
        <h3 class="text-lg font-semibold">M. Hosseini</h3>
        <p>Team Lead / Frontend Developer</p>
      </div>
      <div class="p-4 bg-gray-100 rounded shadow">
        <h3 class="text-lg font-semibold">Teammate 2</h3>
        <p>Content Designer</p>
      </div>
      <div class="p-4 bg-gray-100 rounded shadow">
        <h3 class="text-lg font-semibold">Teammate 3</h3>
        <p>Research & Validation</p>
      </div>
      <div class="p-4 bg-gray-100 rounded shadow">
        <h3 class="text-lg font-semibold">Teammate 4</h3>
        <p>Visual & Branding</p>
      </div>
    </div>
  `;
  document.getElementById("navigation").classList.add("hidden");
}

function renderCountryList() {
  renderIntro();
}

function loadCountry(country) {
  currentCountry = country;
  currentIndex = -1;
  const container = document.getElementById("content");
  container.innerHTML = `<h2 class="text-xl font-semibold mb-4">Select a Step in ${country}</h2>`;
  data[country].forEach((step, index) => {
    const btn = document.createElement("button");
    btn.className = "block w-full bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded my-1 text-left";
    btn.textContent = `Step ${step.file.slice(0,3)}: ${step.title}`;
    btn.onclick = () => {
      currentIndex = index;
      renderStep();
    };
    container.appendChild(btn);
  });
  document.getElementById("navigation").classList.remove("hidden");
}

function renderStep() {
  const step = data[currentCountry][currentIndex];
  const container = document.getElementById("content");
  container.innerHTML = `
    <h2 class="text-2xl font-bold text-blue-800 mb-4">Step ${step.file.slice(0,3)}: ${step.title}</h2>
    <div class="mb-4">${step.description}</div>
  `;
  document.getElementById("prevBtn").disabled = currentIndex === 0;
  document.getElementById("nextBtn").disabled = currentIndex === data[currentCountry].length - 1;
}

function nextStep() {
  if (currentIndex < data[currentCountry].length - 1) {
    currentIndex++;
    renderStep();
  }
}

function prevStep() {
  if (currentIndex > 0) {
    currentIndex--;
    renderStep();
  }
}
</script>

</body>
</html>
